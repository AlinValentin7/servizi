# ============================================
# TEST CONFIGURATION
# ============================================
# Configurazione specifica per i test

spring.application.name=Servizi Edili Elvis SRL - Test

# ============================================
# DATABASE H2 IN-MEMORY (solo per i test)
# ============================================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=false

# ============================================
# JPA/HIBERNATE CONFIGURATION
# ============================================
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# ============================================
# LOGGING CONFIGURATION (ridotto per i test)
# ============================================
logging.level.root=WARN
logging.level.com.example.demo=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# ============================================
# EMAIL CONFIGURATION (disabilitata per i test)
# ============================================
spring.mail.host=localhost
spring.mail.port=25
spring.mail.username=test@example.com
spring.mail.password=test

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Usa password in chiaro per i test (BCrypt rallenta i test)
spring.security.user.name=admin
spring.security.user.password=admin

# ============================================
# FILE UPLOAD
# ============================================
spring.servlet.multipart.max-file-size=1MB
spring.servlet.multipart.max-request-size=1MB

# ============================================
# WHATSAPP CONFIGURATION (disabilitata per i test)
# ============================================
whatsapp.business.number=+1234567890
whatsapp.access.token=test-token
whatsapp.phone.number.id=test-phone-id
whatsapp.api.url=https://graph.facebook.com/v17.0
upload.path=./test-uploads
